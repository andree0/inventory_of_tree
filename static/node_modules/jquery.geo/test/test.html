<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>jQuery Geo local sandbox tests</title>
  <meta name="viewport" content="width=device-width, minimum-scale=1, maximum-scale=1">
  <meta name="description" content="Test all of the things!">
  <meta name="author" content="Ryan Morrison-Westphal">

  <style type="text/css">

    #map
    {
      position: fixed;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
    }

  </style>
</head>
<body>
  <div id="map">
  </div>

  <script src="http://code.jquery.com/jquery-3.3.1.js"></script>

  <script src="../js/excanvas.js"></script>
  <script src="../js/jsrender.js"></script>
  <script src="../js/jquery.mousewheel.js"></script>
  <script src="../js/jquery.ui.widget.js"></script>
  <script src="../js/jquery.geo.core.js"></script>
  <script src="../js/jquery.geo.geographics.js"></script>
  <script src="../js/jquery.geo.geomap.js"></script>
  <script src="../js/jquery.geo.tiled.js"></script>
  <script src="../js/jquery.geo.shingled.js"></script>
  <!--<script src="../dist/jquery.geo-1.0.0-test.min.js"></script>-->

  <script>
    $(function() {
      var startCoords = [-84.558831, 38.209797]; // Coordinates are lng/lat

      // create a map
      var map = $("#map").geomap({
        center: startCoords,
        zoom: 16,
        shapeStyle: {
          height: 4,
          width: 4,
          borderRadius: 2,
          color: "#2196F3",
          stroke: "black",
          strokeWidth: 1
        },
        click: function( e, geo ) {
          setGpsPos( geo, 200 );
        }
      });

      setGpsPos( {
        type: "Point",
        coordinates: startCoords
      }, 200 );

      function setGpsPos( point, accuracy ) {
        map.geomap( 'empty', false );
        map.geomap( 'append', point, false );
        map.geomap( 'append', $.geo.buffer( point, accuracy ), {
          opacity: 0.4,
          color: "#2196F3",
        } );
      }
    } );
  </script>
</body>
</html>

